<!DOCTYPE html>
<html> <!--head>
<script src="https://cdn.jsdelivr.net/pyodide/v0.19.0/full/pyodide.js"></script> </head>
<body> <p>
     The plan is to run LinkML utilities in Python and connect to a Solid pod with Javascript and solid-ui-components.
</p-->

     
     
     
     
<script type="text/javascript">
      // set the pyodide files URL (packages.json, pyodide.asm.data etc)
      window.languagePluginUrl = 'https://cdn.jsdelivr.net/pyodide/v0.16.1/full/';
</script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.16.1/full/pyodide.js"></script>
<script>
function setup_pyodide() {
  // setup pyodide environment to run code blocks as needed
  var setup_code = `
import sys, io, traceback
namespace = {}  # use separate namespace to hide run_code, modules, etc.
def run_code(code):
  """run specified code and return stdout and stderr"""
  out = io.StringIO()
  oldout = sys.stdout
  olderr = sys.stderr
  sys.stdout = sys.stderr = out
  try:
      # change next line to exec(code, {}) if you want to clear vars each time
      exec(code, namespace)
  except:
      traceback.print_exc()

  sys.stdout = oldout
  sys.stderr = olderr
  return out.getvalue()
`
  pyodide.runPython(setup_code)
}

function runPython() {
  // run code currently stored in editor
  pyodide.globals.code_to_run = editor.getValue()
  document.getElementById("output").value = pyodide.runPython("run_code('print("ok")')")
}

// run setup_pyodide() when pyodide finishes loading
languagePluginLoader.then(setup_pyodide)

</script>     
     
     
     
     
     
     
     
     
     
     
<!--button onclick="evaluatePython()">Run</button>
<br />
<br />
<div>Output:</div>
<textarea id="output" style="width: 100%;" rows="6" disabled></textarea>
     
<script>
const output = document.getElementById("output");
function addToOutput(s) {
output.value += ">>> " + s + "\n";
}
output.value = "Initializing...\n"; // init Pyodide
async function main() {
let pyodide = await loadPyodide({
indexURL: "https://cdn.jsdelivr.net/pyodide/v0.19.0/full/",
});
output.value += "Ready!\n"; return pyodide;
}
let pyodideReadyPromise = main();
async function evaluatePython() {
let pyodide = await pyodideReadyPromise; try {
let output = pyodide.runPython("import sys\nprint('ok')");
//\n
//\n
//import yaml\n
//\n
//schema = {\n
//  'id': my_schema_url,\n
//  classes: [\n
//   {\n
 //   'Person': {\n
//      'description": "any person, living or dead',\n
//      'attributes': {\n
//          ...\n
//       }\n
//    }\n
//   }\n
//  ]\n
//}\n
//print(yaml.dump(schema))\n
//\n     
//");
addToOutput(output); } catch (err) {
          addToOutput("oops: "+err);
        }
} </script>
</body--> </html>

